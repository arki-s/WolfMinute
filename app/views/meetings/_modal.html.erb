<div class="modal fade" id="newMeeting" tabindex="-1" aria-labelledby="newMeetingLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="newMeetingLabel">Modal title</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container m-4" data-controller="search-users">
          <h1>New form</h1>

          <form action="/meetings/new" method="get" data-search-users-target="form">
            <input
              type="text"
              name="query"
              data-search-users-target="input"
              data-action="keyup->search-users#search"
              value="<%= params[:query] %>"
            >
          </form>
          <div id="form-container" data-controller="form-steps">
            <%= simple_form_for @meeting, data: { controller: 'flatpickr' } do |f| %>
              <div data-form-steps-target="step">
                <div data-search-users-target="users">
                  <% if @users_filtered.present? && @users_filtered.length.positive? %>
                    <%= render 'list' %>
                  <% else %>
                    <p>No users found.</p>
                  <% end %>
                </div>
                <div data-search-users-target="usersClicked" class="hidden"></div>
                <button type="button" data-action="click->form-steps#nextStep" class="button-general" role="button">Next</button>
              </div>
              <div data-form-steps-target="step" class="hidden">
                <%= f.input :description %>
                <button type="button" data-action="click->form-steps#nextStep" class="button-general" role="button">Next</button>
              </div>
              <div data-form-steps-target="step" class="hidden">
                <%= f.input :start_date, as: :string, input_html: { data: { flatpickr_target: "startTime" } } %>
                <%= f.input :end_date, as: :string, input_html: { data: { flatpickr_target: "endTime" }, id: 'end_time' } %>
                <button type="button" data-action="click->form-steps#nextStep" class="button-general" role="button">Next</button>
              </div>
              <div data-form-steps-target="step" class="hidden">
                <%= f.input :duration %>
                <button type="button" data-action="click->form-steps#nextStep" class="button-general" role="button">Next</button>
              </div>
              <div data-form-steps-target="step" class="hidden">
                <%= f.input :location %>
                <%= f.submit class:"button-general", role:"button"%>
              </div>
            <% end %>
          </div>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button>
      </div>
    </div>
  </div>
</div>
